## 빅데이터

예전에는 중요하다고 생각하는(사용자 수, 매출 등) 위주로 분석하고, 그 이외의 데이터는 사용하지 않았다. 그런데 언제부터인가 이런 버려지는 데이터를 서비스 개선, 광고와 마켓팅으로 사용하면서 주목을 받기 시작했다.

보통 빅데이터란 RDB에서 처리할 수 없을 정도의 크기(대략 수십 테라 이상)을 의미한다.

#### 업무와 필요한 능력

거대한 데이터 파이프라인을 설계, 구축 해야 한다.

### 수집

- 데이터는 여러 시스템에서 생성되고 각각 다른 형태를 가지고 있다.
- App에서 발생한 로그 데이터, DB에서 쌓인 트랜잭션 데이터, IoT 센서등으로 통해 보내진 데이터 등등

1. 데이터 전송
   1. Bulk Type: 벌크형은 이미 존재하는 데이터를 정리해 추출하는 방법, DB와 파일 서버 등 정기적으로 데이터를 수집하는 형태
   2. Streaming: 차례차례 생성되는 데이터를 끊임없이 보내는 방법, Mobile App이나 Embedded 장비 등에서 데이터를 수집
2. 수집
   1. logstash, fluentd와 같은 수집기
   2. kafka, rabbitMQ와 같은 MQ를 사용

### 가공
1. 스트리밍 데이터: storm, flink, spark streaming
2. 배치 처리: hadoop MR, hive, spark

### 저장
- 수집, 가공이 끝난 데이터는 Distributed Storage(분산 스토리지)에 저장이 된다.
- 분산 스토리지: 여러 대로 구성된 서버와 디스크로 구성된 Storage System을 의미
- Object Storage(AWS S3), NoSQL DB, HDFS

### 처리/집계

- MapReduce(MR): 분산 스토리지에 저장된 데이터를 처리하는 가장 대표적인 프레임워크 
1. Query Engine: hive와 같은 SQL을 통해 MR을 사용(Spark, Presto 등의 고속 엔진도 존재)
2. Data Warehouse
   1. 이를 사용하기 위해서는 분산 스토리지에서 데이터를 추출(Extract)하고 변형하고(Transform)한 후 적재(Load)하는 과정이 필요하다 => ETL
   2. 최근에는 ELT 순서도 많이 사용(Storage의 가격이 워낙 낮아졌기 때문에 우선 저장해 두고 필요에 따라 변환시키는 형태)

### 분석

- hive 등의 쿼리로 일회성 분석을 하기도 한다.
- visualization tool 을 통해 self service BI(직원 누구나 접속하여 분석 할 수 있는 환경)을 개발
- 서비스 조직에서 수시로 확인할 수 있도록 analytics system을 개발

### Workflow 관리

- 전체적인 데이터 파이프라인의 동작을 관리하는 역할
- 정해진 배치 처리를 주기에 맞게 스케줄링하고 오류가 발생하는 경우 알림을 보내는 등


